\documentclass[a4paper, 12pt, twoside]{article}
\usepackage[a4paper, top=2.5cm, bottom=2.5cm, left=2.5cm, right=2.5 cm, bindingoffset=0.5cm]{geometry}
\usepackage[onehalfspacing]{setspace}
\usepackage[utf8]{inputenc}
\usepackage[polish]{babel}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{ragged2e}
\usepackage{indentfirst}
\usepackage{csquotes}
\usepackage[backend=biber, maxbibnames=30]{biblatex}
\usepackage{amsmath}
\usepackage{todonotes}

\addbibresource{inz.bib}
\graphicspath{ {./images/} }

\title{System IIoT do zbierania danych pomiarowych}
\date{}

\begin{document}

\clearpage\maketitle %no page number on title page
\thispagestyle{empty}

\listoftodos

\newpage

\section{Wstęp}

\section{Analiza tematu}

\subsection{Systemy informatyczne do zbierania danych pomiarowych} \label{system-do-zbierania-danych}

Zgodnie z encyklopedią \textbf{system informatyczny} to zespół systemów komputerowych,
sieci oraz oprogramowanie, których celem zastosowania jest 
przetwarzanie informacji \cite{system-informatyczny}. 
\textbf{Przetwarzaniem informacji} nazywa się proces akwizycji, utrwalania, udostępniania,
organizacji, interpretacji i wizualizacji informacji \cite{information-science}, 
\cite{information-processing}. Warto w~tym miejscu doprecyzować pojęcia
\textbf{informacji} oraz \textbf{danych}. Dane są pewną skodyfikowaną reprezentacją
faktów. Natomiast dane, które podlegają intepretacji i nabierają znaczenia 
stają się informacją \cite{dane-informacja-wiedza}.

Jednym z możliwych źródeł informacji w systemie informatycznym mogą być 
\textbf{systemy do zbierania danych pomiarowych} (system akwizycji danych, ang. \emph{Data Acquisition Systems}, w skrócie: DAQ).
Są to systemy, których rolą jest gromadzenie w formie cyfrowej danych opisujących 
zjawiska fizyczne. Systemy DAQ tworzą między innymi następujące komponenty
o odpowiednich przeznaczeniach:
\begin{itemize}
    \itemsep0em 
    \item czujniki (sensory, ang. \emph{sensors}) --- przetwarzanie zjawisk fizycznych na analogowy sygnał elektryczny,
    \item przetworniki analogowo-cyfrowe --- konwersja sygnału analogowego na cyfrowy,
    \item sprzęt komputerowy i oprogramowanie --- przetwarzanie informacji. 
\end{itemize}
Systemy DAQ stanowią jedno z głównych narzędzi stosowanych przez naukowców i~inżynierów
na potrzeby testów, pomiarów, a także zadań automatyzacji \cite{data-aq-systems}.

Poza bierną obserwacją zjawisk fizycznych przydatną może okazać się również
możliwość oddziaływania systemu wirtualnego na rzeczywistość. Ogólny typ systemów
realizujących nazwane funkcjonalności opierające się ponadto na zaawansowanym przetwarzaniu informacji
stanowią \textbf{systemy cybernetyczno-fizyczne}
(ang. \emph{Cyber-Physical Systems}, w skrócie: \emph{CPS}).
Są to systemy fizyczne, których funkcjonowanie jest zintegrowane, monitorowane oraz 
nadzorowane przez rdzeń obliczeniowy (system wbudowany). Człon ``cybernetyczny'' odnosi
się do cyfrowych systemów przetwarzania informacji, natomiast człon ``fizyczny'' 
dotyczy stworzonych przez ludzi rzeczywistych systemów technicznych \cite{iiot-cyber-manufacturing-systems}. 

\subsection{Systemy informatyczne w przemyśle} \label{isp}

\subsubsection{Podstawowe zagadnienia}

Podstawowym zagadnieniem odnoszącym się do środowsika przemysłowego jest pojęcie
\textbf{procesu przemysłowego} nazywane też \textbf{procesem technologicznym}.
Jest to ciąg określonych zjawisk fizykochemicznych mających na celu wytworzenie
produktu. Dla zwiększenia efektywności, bezpieczeństwa i kontroli nad procesami
przemysłowymi praktykuje się wspomaganie systemami informatycznymi \cite{isp}.

W dziedzinie informatyki przeymsłowej wykorzystuje się tzw.
\textbf{urządzenia aparatury kontrolno-pomiarowej i automatyki} (w skrócie: AKPiA). 
Stanowią one pomost pomiędzy procesem przemysłowym a systemem informatycznym. 
Zestaw takich urządzeń można zamodelować zbiorem informacji, który nazywamy
\textbf{obiektem przemysłowym} \cite{isp}. Pojęcie AKPiA jest analogiczne do omawianych
w rozdziale \ref{system-do-zbierania-danych} urządzeń systemów DAQ oraz CPS. W~obrębie
CPS spotykane jest określenie analogiczne (nieco bardziej ogólne) do obiektu przemysłowego --- 
tzw. \textbf{bliźniaka cyfrowego} (ang. \emph{Digital Twin}). 
Jest to określenie trafne, jako że informacja cyfrowa pod postacią modeli i obiektów
danych reprezentuje niejako drugą (bliźniaczą) tożsamość obiektu rzeczywistego 
\cite{iiot-challenges-opportunities-directions}. 
Wśród urządzeń AKPiA można wyróżnić następujące grupy \cite{isp}:
\begin{itemize}
    \itemsep0em 
    \item układy \textbf{inicjatorów} (czujniki, sensory, ang. \emph{sensors}) -- rejestrowanie stanu procesu (produkcja informacji),
    \item układy \textbf{wykonawcze} (ang. \emph{actuators}) -- modyfikacja stanu procesu (konsumpcja informacji),
    \item układy \textbf{mieszane} (ang. \emph{mixed}) -- jednoczesna produkcja i konsumpcja informacji.
\end{itemize}

Omawiając tematykę związaną z systemami przemysłowymi nie sposób pominąć kwestię
warunków otoczenia. Środowisko przemysłowe charakteryzuje się zwiększoną uciążliwością.
Wymienia się następujące \textbf{zaburzenia środowiskowe}, które mogą mieć wpływ na pracę
systemu przemysłowego: zaburzenia otoczenia (np. temperatura, wilgotność, czynniki chemiczne),
zaburzenia mechaniczne, przewodzone i elektromagnetyczne \cite{isp}.

\subsubsection{Systemy rozproszone czasu rzeczywistego}

Systemy informatyczne w przemyśle często posiadają cechy \textbf{systemów rozproszonych}.
W systemach tych nie występuje centralne urządzenie
przetwarzające informacje, lecz składają się one z wielu jednostek
przetwarzających o różnym zakresie funkcjonalności. Do zalet
takich systemów zalicza się zwiększoną: moc obliczeniową, niezawodność oraz 
elastyczność (adaptacyjność, rekonfigurowalność)
\cite{isp},
\cite{isp-analiza-przepływu-informacji}. W obrębie systemów przemysłowych
w szczególności stosuje się \textbf{rozproszone systemy sterowania}, 
(ang. \emph{Distributed Control Systems}, w~skrócie: DCS). Do zadań takich systemów
należą sterowanie i wizualizacja procesu przemysłowego. 

Często wymaganą cechą procesów przemysłowych jest \textbf{determinizm czasowy}.
Postawienie wymagania determinizmu czasowego względem systemu przemysłowego oznacza,
że jego odpowiedź na zdarzenia musi zachodzić w zdefiniowanym, skończonym czasie
\cite{isp}.
Ściślej mówiąc, oczekuje się, że czas obsługi zdarzenia przez system $T_s$ będzie
mniejszy lub równy od określonego czasu granicznego $T_g$, co przedstawia 
wzór \ref{ts-tg}.
\begin{equation}
    T_s \leq T_g\label{ts-tg}
\end{equation}

Systemy charakteryzujące się determinizmem czasowym nazywa się 
\textbf{systemami czasu rzeczywistego} (ang. \emph{Real Time Systems}, w skrócie: RTS). 
Systemy posiadające cechy zarówno systemów rozproszonych, jak i systemów
czasu rzeczywistego nazywa się po prostu \textbf{systemami rozproszonymi czasu rzeczywistego}.
Zagadnieniem kluczowym w kontekście takich systemów
jest \textbf{komunikacja} \cite{isp-analiza-przepływu-informacji}.
Rolę medium komunikacyjnego
w systemach komputerowych stanowią \textbf{sieci komputerowe}. Na potrzeby 
przemysłu opracowano dedykowane sieci komputerowe odpowiadająće m. in. na potrzebą
działania w ramach ścisłych ograniczeń czasowych. Do przykładowych sieci należą:
Modbus, Ethernet, Profinet, Profibus, CAN, EtherCAT \cite{systemy-automatyki-przemyslowej}.

\subsubsection{Dziedzina zastosowań systemów informatycznych w przemyśle}

Jak wcześniej wspomniano, wykorzystanie systemów informatycznych może usprawnić
działania podejmowane w ramach przedsiębiorstwa (należących do niego jednostek produkcyjnych). 
Zespół takich działań można ściślej nazwać \textbf{prowadzeniem procesu}.
Proces ten może mieć dwa aspekty: biznesowy (gospodarczy, zarządczy) oraz techniczny. 
\textbf{Proces biznesowy} to zespół działań dążących do osiągnięcia pewnego celu
zdefiniowanego w ramach przedsiębiorstwa. \textbf{Proces techniczny} dotyczy
obsługi działań związanych z procesem przemysłowym. 


\subsection{Internet Rzeczy}\label{iot}

\subsubsection{Definicje i zastosowania Internetu Rzeczy}

Pojęcie Internetu Rzeczy (ang. \emph{Internet of Things}, w skrócie: IoT) posiada różne definicje. 
Jedną z prostszych jest sieć przedmiotów z wbudowanymi czujnikami, które są podłączone
do Internetu \cite{intro-to-iot}. Bardziej szczegółowe jest ujęcie IoT jako sieci jednoznacznie
identyfikowalnych przedmiotów z wbudowanymi czujnikami, inteligencją obliczeniową
oraz powszechną łącznością z Internetem \cite{iot-hype-to-reality}.
Na nieco wyższym poziomie definiuje się IoT jako globalną infrastrukturę udostępniającą
zaawansowane usługi poprzez połączenie przedmiotów z wykorzystaniem technologii informacyjnych.
\cite{intro-to-iot}. W każdej z przytoczonych
definicji zauważalne jest pewne podobieństwo pomiędzy IoT a pojęciem CPS 
scharakteryzowanym w rozdziale \ref{system-do-zbierania-danych}. Zagadnienia te
posiadają część wspólną, dotyczą podobnej tematyki (przede wszystkim połączenia świata fizycznego i logicznego), 
lecz mają odrębną genezę i uwydatnia się w ich ramach różne aspekty: 
inżynierię systemów sterowania w CPS oraz sieci i komunikację w IoT \cite{cps-vs-iot}.
Głównym zastosowaniem Internetu Rzeczy jest monitorowanie świata rzeczywistego 
oraz wchodzenie z nim w interakcję, co może usprawnić działalność człowieka na wielu płaszczyznach.
Wśród praktycznych zastosowań IoT wymienia się między innymi:
sieci czujników i pomiary rozproszone, urządzenia (gadżety) ubieralne, 
inteligentne budynki, miasta, logistyka, przemysł, a także marketing \cite{internet-reczy}. 
Możliwości, jakie niesie IoT dla przemysłu zostały w sposób szczególny rozpatrzone 
w rozdziale \ref{iiot}.

\subsubsection{``Rzeczy'' w IoT}

Wśród przedmiotów tworzących IoT wyróżnia się dwie kategorie: 
czujniki oraz urządzenia wykonawcze. Są to odpowiedniki aparatury kontrolno-pomiarowej 
wykorzystywanej w przemyśle (patrz: rozdział \ref{isp}). Czujniki umożliwiają
obserwację świata rzeczywistego i jej zapis w postaci cyfrowej.  
Urządzenia wykonawcze są w stanie zmienić stan układu rzeczywistego (wprowadzać w nim ruch)
na podstawie otrzymanej informacji cyfrowej \cite{iot-hype-to-reality}.
Przykładowe czujniki to: przyciski, przełączniki, czujniki ruchu, czujniki gazów,
czujniki wibracji, czujniki temperatury, wilgoci,
nacisku, ultradźwięków i wielu innych wielkości fizycznych. Przykłady urządzeń
wykonawczych to: silniki, siłowniki liniowe, przekaźniki, zawory. Ważnym elementem
infrastruktury IoT są systemy wbudowane typu SoC (ang. \emph{System on a chip}).  
Są to układy elektroniczne, których poszczególne komponenty realizujące wymagane 
funkcjonalności są zintegrowane w ramach jednego, kompletnego układu scalonego. 
System typu SoC mogą zawierać m. in.: procesory lub mikrokontrolery, przetworniki
analogowo-cyfrowe i cyfrowo-analogowe, pamięci, procesory graficzne, interfejsy komunikacyjne \cite{intro-to-iot}, \cite{soc}. 
Obok rozwiązań dedykowanych dużą popularnością cieszą się następujące platformy uniwersalne \cite{intro-to-iot}:

\begin{itemize}
    \itemsep0em 
    \item Arduino -- Różne modele płytek rozwojowych wykorzystujące m. in. systemy
    SoC producenta Atmel oparte o mikrokontrolery AVR. Wśród zestawów płytek
    dostępne są moduły rozszerzeń posiadające przewodowe i bezprzewodowe interfejsy sieciowe.
    \item ESP -- Systemy typu SoC producenta Espressif Systems zawierające wbudowane
    bezprzewodowe interfejsy sieciowe.
    \item Raspberry Pi -- Zaawansowane płytki tworzące komputery jednopłtykowe (ang. \emph{single-board computer}).    
    Można na nich uruchomić system operacyjny (również z interfejsem graficznym). Posiadają liczne 
    interfejsy komunikacyjne (w tym sieciowe) \cite{rpi}. 
\end{itemize}

Wymienione platformy uniwersalne mogą też stanowić pomost pomiędzy główną
siecią IoT wykorzystującą np. Ethernet czy technologie bezprzewodowe a innymi urządzeniami
peryferyjnemi (czujnikami i urządzeniami wykonawczymi) komunikującymi się za pośrednictwem 
uniwersalnych złącz pinowych GPIO albo interfejsów szeregowych, 
takich jak: SPI, I2C, RS232, USB \cite{intro-to-iot}.

\subsubsection{``Internet'' w IoT}

Wymiana informacji w systemach IoT może odbywać się w sposób przewodowy lub bezprzewodowy.
Stosowane modele komunikacji sieciowej bazują na standardowym modelu OSI bądź
internetowym stosie TCP/IP. Urządzenia Internetu Rzeczy nie zawsze są jednak 
w stanie implementować wszystkie warstwy stosu ze względu na ograniczone zasoby 
(moc obliczeniowa, pamięć, energia elektryczna). W warstwie fizycznej i łącza danych
sieci IoT wykorzystuje się protokoły: Ethernet, WiFi, Bluetooth, sieci komórkowe,
ZigBee, Z-Wave, NFC. W warstwie sieciowej stosuje się: IPv4, IPv6 oraz zoptymalizowaną
pod IoT wersję IPv6 --- 6LoWPAN. Protokoły warstwy transportowej to m. in.: TCP i UDP. 
Warstwy sesji, prezentacji i aplikacji implementują powszechne internetowe protokoły, jak
HTTP, RTP, SMTP. Na szczególną uwagę zasługują protokoły najwyższych warstw zaprojektowanie
z myślą o IoT, są to m.in. MQTT i CoAP \cite{internet-reczy}, \cite{intro-to-iot}, \cite{iot-hype-to-reality}.

\subsubsection*{Protokół MQTT}

MQTT (ang. \emph{Message Queue Telemetry Transport}) to lekki pod względem wykorzystania zasobów
protokół polegający na wymianie komunikatów (ang. \emph{messages}). Architektura komunikacji
jest oparty na wzorcu publikuj-subskrybuj (ang. \emph{publish-subscribe}).
Klienci łączą się do centralnego serwera (pośrednika, ang. \emph{broker}), za pośrednictwem
którego mogą wysyłać i odbierać komunikaty pod konkretnym adresem (tematem, ang. \emph{topic}).
Tematy tworzą hierarchiczną strukturę analogiczną do URL. MQTT jest protokołem binarnym
wykorzystującym TCP w warstwie transportowej \cite{iot-hype-to-reality}.

\subsubsection*{Protokół CoAP}

CoAP (ang. \emph{Constrained Application Protocol}) to zoptymalizowana alternatywa dla HTTP
przeznaczona dla urządzeń o ograniczonych zasobach. Posiada Wykorzystuje m. in. protokół
UDP w warstwie transportowej, krótsze nagłówki w formie binarnej. 
CoAP wywodzi się ze wzorca architektonicznego REST (ang. \emph{Representational state transfer}), 
jest więc zorientowany na zasoby umożliwiając ich tworzenie, odczyt, aktualizację
i usuwanie (ang. /emph{Create, Read, Update, Delete}, w skrócie: CRUD). 
Identycznie jak w przypadku HTTP, architektura komunikacji protokołu CoAP to klient-serwer 
\cite{intro-to-iot}, \cite{iot-hype-to-reality}.

\subsubsection*{Modele komunikacyjne}

W sieciach IoT rozróżnia się trzy następujące modele komunikacyjne \cite{intro-to-iot}:

\begin{itemize}
    \itemsep0em 
    \item Urządzenie -- Urządzenie (ang. \emph{Machine to Machine, Device to Device}, w skrócie: M2M)
    --- Urządzenia komunikują się bezpośrednio bez potrzeby translacji czy wykonywania 
    skomplikowanego przetwarzania danych (dotyczy to zarówno urządzeń tej samej klasy, jak i różnej);
    \item Urządzenie -- Brama (ang. \emph{Device to Gateway})
    --- Występuje, gdy zachodzi potrzeba translacji informacji wymienianej pomiędzy różnymi sieciami.
    Translacją zajmuje brama (ang. \emph{gateway}), którą tworzy dedykowane oprogramowanie i/lub urządzenie;
    \item Urządzenie -- Chmura (ang. \emph{Device to Cloud})
    --- Występuje, gdy zachodzi potrzeba zaawansowanego przetwarzania danych 
    (statystyka, eksploracja danych, big data, składowanie, itp.), 
    co nie jest możliwe w przypadku urządzeń o ograniczonych zasobach obliczeniowych, 
    pamięciowych i energetycznych. Wówczas gromadzone przez urządzenia dane są 
    przesyłane do platform opartych o usługi chmurowe. Może to być zarówno chmura publiczna 
    (np. AWS, Azure), jak i lokalna, prywatna infrastruktura informatyczna. 
    Niektóre urządzenia są w stanie komunikować się z chmurą bezpośrednio, inne
    korzystają w tym celu z bram.
\end{itemize}

\subsubsection{Usługi chmurowe}

Do niedawna większość przedsiębiorstw chcących czerpać korzyści z wykorzystania
systemów informatycznych było zmuszonych do inwestowania we własną infrastrukturę
komputerową. Przetwarzanie w chmurze (ang. \emph{cloud computing}) pozwala obecnie 
na migrację części lub całości infrastruktury informatycznej na dostawców chmury,
takich jak Microsoft Azure, Amazon AWS, Google Cloud, czy IBM Cloud. Usługi chmurowe
udostępnianie przez wymienionych i innych dostawców noszą miano chmury publicznej. 
Są one dostępne na życzenie za pośrednictwem Internetu i posiadają elastyczny
system rozliczeń, w którym koszta są zależne od faktycznie zużytych zasobów
(cykle procesorów, pamięć, wykorzystanie łącza, liczba zapytań). Do zalet takiego
rozwiązania należą: łatwa skalowalność, konfigurowalność i duży wybór usług
ułatwiających utrzymanie infrastruktury informatycznej. Spośród wad należy wymienić
zależność od firm trzecich (dostawców chmury) oraz brak pełnej kontroli nad 
posiadaną infrastrukturą \cite{iot-hype-to-reality}.

W ramach usług dostawcy chmury udostępniają m.in.: przetwarzanie danych, 
analitykę, eksplorację danych, uczenie maszynowe, konteneryzację, relacyjne i nierelacyjne
bazy danych, integrację aplikacji, hosting aplikacji i stron internetowych, 
maszyny wirtualne, narzędzia programistyczne, zarządzanie użytkwnikami, a także
platformy do zarządzania systemami IoT \cite{aws}, \cite{azure}.

Zarządzanie dużą ilością danych jest podstawowym zadaniem systemu IoT. Składa się ono
na: zbieranie, filtrowanie, agregację, przetwarzanie, składowanie, udostępnianie,
wizualizację oraz zabezpieczanie \cite{intro-to-iot}. Usługi chmurowe umożliwiają złożone zarządzanie
danymi oferując jednocześnie skalowalność, zdalny dostęp, opłaty zależne od zapotrzebowania
i gotowe rozwiązania programistyczne skracające czas rozwoju systemów. 
Wymienione usługi, jak i dedykowane chmurowe platformy do administrowania 
urządzeniami mogą nieść wiele korzyści dla projektowanego lub rozwijanego
systemu IoT \cite{measuring-value-of-cloud-computing}, \cite{iot-and-cloud}, \cite{iot-in-industrial-sector}. 

\subsection{Internet rzeczy w przemyśle}\label{iiot}

Zasadniczą ideą IoT jest połączenie wielu (nawet miliardów) inteligentnych urządzeń,
które są w stanie monitorować środowisko, w którym się znajdują, przesyłać 
i przetwarzać zebrane dane oraz dawać informację zwrotną do otoczenia. Przyłączenie
takich przedmiotów do Internetu ma udoskonalić rozwój i bezpieczeństwo
działania przedsiębiorstw oraz społeczeństwa, a także umożliwić efektywną
interakcję pomiędzy światem rzeczywistym a cyfrowym (\todo{ref do CPS}). 
Przemysłowym Internetem Rzeczy (ang. \emph{Industrial Internet of Things}, w skrócie IIoT)
nazywamy rozwiązania IoT znajdujące zastosowanie w przemyśle. Do dziedziny
IIoT należą: komunikacja M2M oraz przemysłowe technologie komunikacyjne stosowane 
w systemach automatyzacji. IIoT ma umożliwić lepsze zrozumienie procesów
przemysłowych, a w związku z tym zapewnić większą wydajność i zrównoważenie
produkcji. Innymi słowy, IIoT ma za zadanie ułatwić integrację technologii operacyjnych 
(ang. \emph{Operation Technologies}, w skrócie: OT) oraz
technologii informatycznych (ang. \emph{Information Technologies}, w skrócie: IT) 
\cite{iiot-challenges-opportunities-directions}.
Technologie operacyjne to systemy nadzorujące przebieg procesów przemysłowych (systemy niskopoziomowe), 
zaś technologie informatyczne to systemy, których rolą jest jest gromadzenie 
i przetwarzanie informacji wartościowych z perspektywy przedsiębiorstwa (systemy wysokopoziomowe)
\cite{ot-it-categorization-of-customer-concerns}.
Można też spotkać analogiczny podział systemów na wspomagające proces biznesowy 
oraz techniczny lub też na systemy poziomu procesu oraz poziomu zarządzania \cite{isp}.
\todo{dodać rysunek IT/OT wraz z wymienionymi przykładami}.

Z zagadnieniem IIoT ściśle związane jest też pojęcie Przemysłu 4.0 (ang. \emph{Industry 4.0})
reprezentujące czwartą rewolucję przemysłową. Jest to koncept stosunkowo uniwersalny
skupiający rozwiązania CPS, IoT, IIoT wykorzystywane w celu zwiększania efektywności
procesów przemysłowych w ramach tzw. inteligentych fabryk (ang. \emph{smart factories})
\cite{iiot-cyber-manufacturing-systems}, \cite{iiot-challenges-opportunities-directions}.
\todo{dodać diagram Venne'a}.

Ze względu na konieczność funkcjonowania w specyficznym środowisku przemysłowym
IIoT posiada pewne cechy odróżniające od standardowego (konsumenckiego) IoT.
Wśród nich należy wymienić \cite{iiot-challenges-opportunities-directions}:
\begin{itemize}
    \itemsep0em 
    \item Rozwój o charakterze ewolucyjnym, nie rewolucyjnym
    --- Podczas gdy wokół konsumenckiego IoT rozwijanych jest wiele nowych technologii i standardów, 
    wdrażając systemy IIoT należy się liczyć z dużą bezwładnością
    przemysłowego środowiska technologicznego. Istnieje wiele sprawdzonych, dobrze
    funkcjonujących rozwiązań dedykowanych dla przemysłu, których przez długi czas
    nie trzeba szczególnie rozbudowywać, lub co więcej --- wymieniać \cite{isp};
    \item Infrastruktura komunikacyjna 
    --- Infrastruktura IoT jest bardziej elastyczna, podczas gdy infrastruktura
    IIoT wymaga dostosowania do bardziej ustrukturyzowanych modeli komunikacyjnych;
    \item Ograniczenia
    --- W otoczeniu przemysłowym charakterystyczne są wysokie wymagania dotyczące
    ograniczeń czasowych (determinizmu), niezawodności, bezpieczeństwa danych oraz
    funkcjonowania w niesprzyjających warunkach środowiskowych.
\end{itemize}

Szczególną uwagę należy poświęcić stwierdzeniu, że \textbf{intencją wykorzystania IIoT nie 
jest zastąpienie tradycyjnych systemów automatyzacji procesów przemysłowych} \cite{iiot-challenges-opportunities-directions}. 
Na tej płaszczyźnie istnieją bowiem sprawdzone, dedykowane rozwiązania adresujące
problem ograniczeń spotykanych w autoamtyce przemysłowej. Do rozwiązań technologicznych należą: przemysłowe sieci komputerowe
(np. Profinet, Ethercat), dedykowane urządzenia 
(np. PLC, przemysłowe komputery klasy PC, stacje procesowe systemów DCS, panele HMI),
systemy wykorzystujące redundancję, systemy SCADA \cite{isp}, \cite{systemy-automatyki-przemyslowej}.
Właściwym \textbf{celem wdrażania systemów IIoT jest zwiększanie wiedzy na temat procesów
przemysłowych, co w efekcie pozwala na ulepszenie jego wydajności}. Takie systemy
z kolei niekoniecznie wymagają spełniania ścisłych ram ograniczeń 
\cite{iiot-challenges-opportunities-directions}. 
Ogólnie, ze względu na tolerancję ograniczeń (m. in. opóźnień czasowych) można 
wyróżnić trzy poziomy jakości usług komunikacyjnych \cite{iot-hype-to-reality}: 
\begin{itemize}
    \itemsep0em 
    \item Dostarczanie z wykorzystaniem najlepszych możliwości (ang. \emph{best effort})
    --- Komunikacja nie spełnia ścisłych ograniczeń czasowych, wykorzystywana jest 
    maksymalna dostępna przepustowość. Jest to poziom jakości charakterystyczny
    dla usług internetowych;
    \item Dostarczanie w czasie gwarantowanym
    --- Komunikacja spełnia pewne ograniczenia czasowe, których niedotrzymanie
    skutkuje spadkiem korzyści płynących z wykorzystawanych usług;
    \item Dostarczanie w czasie deterministycznym
    --- Komunikacja powinna spełniać ścisłe ograniczenia czasowe,
    których niedotrzymanie jest równoznaczne z awarią systemu.
\end{itemize}
Poziomy tolerancji opóźnień czasowych w różnych aplikacjach przedstawia rys. \todo{dodać rys}.
Powszechna infrastruktura tworząca Internet, jak i usługi w nim dostępne, są z reguły
niedeterministyczne pod względem czasowym. Systemy IoT czy IIoT mogą więc
funkcjonować zgodnie paradygmatem \emph{best effort}. Można oczywiście rozważyć
scenariusze, w których nie korzysta się z publicznej sieci Internet, a innych
rozwiązań sieciowych, które umożliwiają zachowanie determinizmu. Nie są to jednak
systemy IoT w ścisłym rozumieniu. Można też wyobrazić sobie heterogeniczny system
IoT, w którym istnieje pewna sieć deterministyczna połączona z publicznym Internetem
za pomocą odpowiedniej bramy. Takie podejście może okazać się przydatne w przemyśle, gdzie 
może zaistnieć potrzeba integracji istniejących systemów automatyki z Internetem Rzeczy \cite{iiot-design-and-impl-gateway}.

W systemach IIoT popularny jest podstawowy, trójwarstwowy model architektury. Wśród jego
warstw wyróżniamy: warstwę brzegową (ang. \emph{edge}), warstwę platformową (ang. \emph{platform})
i warstwę biznesową (ang. \emph{enterprise}) \cite{iiot-challenges-opportunities-directions}.
Model ten przedstawia rys. \todo{dodać rys}.
Do warstwy brzegowej należą
typowe urządzenia systemów automatyki przemysłowej, m.in. czujniki i urządzenia wykonawcze oraz
sterowniki (np. klasy PLC). Warstwę platformową stanowią zwykle usługi chmurowe,
takie jak Azure IoT Hub czy AWS IoT. Usługi te umożliwiają przede wszystkim zarządzanie
systemem IoT, akwyizycję i agregację danych oraz trasowanie danych na wejścia 
innych usług i aplikacji domenowych \cite{models-innovative-iot}. Warstwę biznesową
stanowią aplikacje domenowe lub zaawansowane usługi chmurowe
korzystające ze zgromadzonych danych w celu wspomagnia
analityki, monitorowania, zarządzania, archiwizacji, itp. 

\subsection{Ujęcie tematu w świetle zgromadzonych informacji}

Niniejszy rozdział przedstawia konsolidację wiedzy zebranej w ramach poprzednich
rozdziałów i jej odniesienie do tematu pracy. 

Głównym zagadnieniem rozważanym
w ramach projektu jest zbieranie danych pomiarowych w środowisku
przemysłowym. Problem ten adresują technologie IIoT oraz usługi chmurowe.
Umożliwiają one gromadzenie i przetwarzanie danych w systemie rozproszonym składającym
się z szeroko pojętej aparatury kontrolno-pomiarowej (urządzeń cybernetyczno-fizycznych).
Wykorzystanie usług chmurowych dostępnych za pośrednictwem Internetu
pozwala na dostęp do skalowalnych zasobów informatycznych --- m. in.
mocy obliczeniowej, pamięci masowej, infrastruktury progrogramistycznej. Dostawcy
chmury udostępniają ponadto platformy do zarządzania wielką ilością urządzeń IoT,
co usprawnia nadzór nad systemem \cite{iot-gateway-medical-and-industrial}. 
W niniejszej pracy podjęto zadanie \textbf{zaprojektowania architektury} opisanego systemu
oraz \textbf{realizacji prototypu}.

Sporządzenie koncepcji architektury systemu sprowadza się do wypracowania
ogólnego rozwiązania dla klasy zadań, jaką jest zbieranie danych w środowisku przemysłowym.
Zaproponowany model będzie więc abstrahować od konkretnych narzędzi, technologii,
urządzeń czy szczegółowych przypadków użycia, a będzie odwoływać się do pewnych 
podstawowych koncepcji (np. pojęcie czujnika, modele komunikacji w IoT, pojęcie bramy, przemysłowe protokoły sieciowe). 
Przykładową implementację modelu ma stanowić wykonany prototyp, na poziomie którego dobór technologii
i aparatury będzie skonkretyzowany na podstawie analizy i porównań dostępnych
narzędzi i usług informatycznych. 

Modelem referencyjnym dla projektowanego systemu jest zaprezentowana w rozdziale
\ref{iiot} trójwarstwowa architektura systemów IIoT. Dla warstwy brzegowej przyjmuje 
się, że w systemie jest zapewniony dostęp do dwóch rodzajów urządzeń: przemysłowe urządzenia
lub zespoły urządzeń aparatury kontrolno-pomiarowej pracujące w czasie rzeczywistym 
w ramach sieci przemysłowej
(czujniki przemysłowe, wyspy czujników, moduły DAQ, moduły I/O, sterowniki, itp.)
oraz typowe dla IoT bezprzewodowe sieci sensorowe (ang. \emph{Wireless Sensor Networks}, w skrócie: WSN)
lub inne zespoły urządzeń zawierające czujniki komunikujące się z wykorzystaniem protokołów charakterystycznych dla IoT
\cite{iiot-gateway-introduction}
(przykłady takich urządzeń wymieniono w rozdziale \ref{iot}). Implementację warstwy
platformowej realizują wspomniane już rozwiązania oferowane przez dostawców chmury.
Do warstwy biznesowej mogą należeć istniejące aplikacje 
wspomagające działalność przedsiębiorstwa 
(m. in. systemy klasy ERP) oraz mogące przejmować ich funkcje usługi chmurowe. 

Reasumując --- gromadzenie danych w ramach systemu umożliwia dostępna apratura pomiarowa
składająca się z urządzeń przemysłowych i/lub IoT. Zarządzanie urządzeniami, agregację, przetwarzanie, składowanie i udostępnianie
danych mogą realizować wybrane usługi chmurowe i/lub ``szyte na miarę'' aplikacje (głównie internetowe).
Pewną lukę, element brakujący w proponowanym modelu stanowi konieczność dopasowania
do różnych protokołów sieci przemysłowych oraz IoT. Konieczna jest też integracja
warstwy brzegowej i platformowej zaproponowanego modelu. Są to krytyczne zadania
przypisywane systemom IIoT. Dla rozwiązania 
tego problemu stosuje się tak zwane bramy IoT (ang. \emph{IoT gateways}). Są to zwykle
urządzenia wraz z oprogramowaniem będące w stanie integrować zarówno protokoły
warstwy fizycznej i łącza danych, jak i dokonywać translacji protokołów wyższych warstw 
(tzw. bramy semantyczne) wraz z możliwością udostępniania danych za pośrednictwem
Internetu \cite{iiot-heterogenous-gateways}. Bramy mogą realizować również
wstępne przetwarzanie danych odciążając w ten sposób usługi wyższych warstw.
Jest to tzw. koncepcja przetwarzania brzegowego (ang. \emph{edge computing}) \cite{iot-gateway-medical-and-industrial}.
W ogólniejszym rozumieniu bramy IoT mogą stanowić pomost pomiędzy infrastrukturą
pomiarową a infrastrukturą sieciową lub też pomiędzy technologią operacyjną a 
technologią informatyczną \cite{iiot-gateway-introduction}, \cite{iiot-challenges-opportunities-directions}. 
Bramy IoT z reguły
mogą udostępniać dane za pośrednictwem Internetu na poziomie usługi \emph{best-effort}.
Warto jednak, aby na poziomie lokalnym mogły one współpracować z istniejącymi
systemami czasu rzeczywistego, co jest ważnym aspektem w środowisku przemysłowym. 

Otrzymano zatem podstawowy zarys projektowanego systemu. 
Składa się on z urządzeń pomiarowych udostępniających dane w ramach sieci 
przemysłowych i/lub IoT. Integracji różnych protokołów i wstępnego przetwarzania
dokonuje dedykowana brama (bramy) IoT. Brama przekazuje dane w spójnym, jednolitym
formacie do usług chmurowych i innych aplikacji za pośrednictwem Internetu.
Te z kolei mogą realizować zaawansowane przetwarzanie, składowanie, udostępnianie
i wizualizację danych. Poza podstawowym zdefiniowanym celem gromadzenia danych pomiarowych
możliwe jest też oddziaływanie systemów informatycznych na systemy nadzorujące 
przebiegiem procesów przemysłowych. Wynikiem przetwarzania w chmurze może
być informacja zwrotna dla systemu przemysłowego. Nie jest to przypadek użycia
zalecany dla zadań automatyzacji, gdzie z reguły narzucany jest determinizm czasowy. 
Aczkolwiek można sobie wyobrazić przykładową sytuację, w której wynikiem analizy danych jest 
polecenie automatycznej kalibracji procesu przemysłowego, która niekoniecznie musi
odbyć się w ścisłych ramach czasowych. Realizowany system powinien zatem dopuszczać
możliwość implementacji podobnych funkcjonalności wpisujących się w paradygmat
systemów CPS. W następującym, szczegółowym etapie projektowania poruszone zostaną również 
inne ważne wyzwania IIoT, jakimi są bezpieczeństwo danych oraz bezpieczeństwo w kontekście niesprzyjająćego
środowiska przemysłowego \cite{iiot-challenges-opportunities-directions}.

Wśród istniejących, komercyjnych rozwiązań o podobnej dziedzinie funkcjonalnej
znaleziono następujące przykłady:
\begin{itemize}
    \itemsep0em 
    \item Sensemetrics --- Rozwiązanie amerykańskiej firmy Industrial IoT Solutions
    oparte na standaryzowanej architekturze warstwowej. Jest to system do akwizycji
    i zarządzania danych. Producent przypisuje swojemu systemowi wysoką konfigurowalność \cite{sensmetrics};
    \item Nazca 4.0 --- System rozwijany przez polską firmę APA Group zorientowany na Przemysł 4.0.
    Wśród użytych technologii producent wymienia IoT, inteligentne czujniki, 
    przetwarzanie w chmurze, integrację systemów \cite{nazca};
    \item IXON --- Kompletne rozwiązanie IIoT holenderskiej firmy o tej samej nazwie.
    System składa się z platformy internetowej umożliwiającej nadzór, analitykę i wizualizację danych,
    a także dedykowanego routera/bramy IoT. Urządzenie wraz z opgrogramowaniem
    integruje takie systemy i protokoły jak: OPC UA, Modbus, Ethernet \cite{ixon}.
\end{itemize}



\section{Wymagania i narzędzia}

\section{Specyfikacja zewnętrzna}

\section{Specyfikacja wewnętrzna}

\section{Weryfikacja i walidacja}

\section{Podsumowanie i wnioski}

\printbibliography

\end{document}